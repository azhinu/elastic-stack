filebeat.config:
  modules:
    path: ${path.config}/modules.d/*.yml
    reload.enabled: false

filebeat.autodiscover:
  providers:
    - type: docker
      hints.enabled: true

processors:
- add_cloud_metadata: ~

output.elasticsearch:
  hosts: '${ELASTICSEARCH_HOSTS:elasticsearch:9200}'
  index: logs-elastic-internal
  ssl.ca_trusted_fingerprint: '${ELASTICSEARCH_CA_FINGERPRINT:}'
  username: '${ELASTICSEARCH_USERNAME:}'
  password: '${ELASTICSEARCH_PASSWORD:}'

setup:
  kibana.host: kibana:5601
  dashboards.index: logs-elastic-internal

  template.enabled: false
  template.name: logs
  template.pattern: logs-*-*

  ilm.enabled: false
  ilm.policy_name: logs

logging.level: warning

# External monitoring section
http:
  enabled: true
  port: 5066
  hosts: ["localhost", "filebeat"]
monitoring.enabled: false
